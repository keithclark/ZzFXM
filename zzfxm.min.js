//! ZzFXM (v1.0.0) | (C) Keith Clark | MIT | https://github.com/keithclark/ZzFXM
zzfxM=(f,r,t,z=6,e)=>{let n,o,a,l,m,p,x,c,g,h,s,u,G=44100/(50/z)|0,M=0,b={},d=[],i=[];return t.map(t=>{r[t].map((r,t)=>{for(o=M,c=e?.5+(e[t]||0)/2:1&t,x=0;x<r.length;o+=G)for(h=r[x++]||h,u=r[x++],u&&(g=p=0,l=[u,h],b[l]||(s=[...f[h-1]],s[2]*=2**((u-12)/12),b[l]=zzfxG(...s)),a=b[l]),g=r[x++]/64||g,n=o;n<o+G;n++)m=a&&a[p++]*(1-g)||0,d[n]=(d[n]||0)+m*(1-c),i[n]=(i[n]||0)+m*c}),M=n}),[d,i]}